@page
@model FA25_G7_PRN222_Web_ban_dien_thoai_Razor_Pages.Pages.ViewProfileModel

@section Styles {
    <link rel="stylesheet" href="~/css/ViewProfile.css" />
}

<main>
    <div class="profile-container">

        <h2 class="text-center">Customer Profile</h2>

        @* Hiển thị thông báo update thành công (chỉ 1 lần) *@
        @if (TempData["SuccessMessage"] != null)
        {
            <div id="successMessage" class="alert alert-success full-width">
                @TempData["SuccessMessage"]
            </div>
        }

        <form method="post" enctype="multipart/form-data">
            <input type="hidden" asp-for="Customer.CustomerId" />

            <div class="form-group">
                <label>Username</label>
                <input asp-for="Customer.UserName" readonly />
            </div>

            <div class="form-group">
                <label>Full Name</label>
                <input asp-for="Customer.FullName" />
            </div>

            <div class="form-group">
                <label>Email</label>
                <input asp-for="Customer.Email" type="email" />
            </div>

            <div class="form-group">
                <label>Phone Number</label>
                <input asp-for="Customer.PhoneNumber" type="tel" />
            </div>

            <div class="form-group full-width">
                <label>Address</label>
                <input asp-for="Customer.Address" />
            </div>

            <div class="form-group">
                <label>Sex</label>
                <select asp-for="Customer.Sex">
                    <option value="">-- Select --</option>
                    <option>Male</option>
                    <option>Female</option>
                </select>
            </div>

            <div class="form-group">
                <label>Date of Birth</label>
                <input asp-for="Customer.DOB" type="date" />
            </div>

            <button type="submit" class="btn">Update Profile</button>
        </form>
    </div>
</main>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        // Ẩn thông báo sau 3 giây (mờ dần rồi biến mất)
        setTimeout(() => {
            const msg = document.getElementById("successMessage");
            if (msg) {
                msg.style.transition = "opacity 0.5s";
                msg.style.opacity = "0";
                setTimeout(() => msg.remove(), 500);
            }
        }, 3000);
    </script>
}
