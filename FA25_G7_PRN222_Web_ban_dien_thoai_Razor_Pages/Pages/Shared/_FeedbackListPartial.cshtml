@model IEnumerable<DAL.Models.Feedback>

<style>
    .reply-box {
        margin-left: 2rem;
        background-color: #f8f9fa;
        padding: 0.75rem;
        border-radius: 0.5rem;
        margin-top: 0.5rem;
    }
</style>

@if (Model == null || !Model.Any())
{
    <p class="text-muted">Chưa có đánh giá nào cho sản phẩm này.</p>
}
else
{
    @foreach (var fb in Model)
    {
        <div class="feedback-item">
            <h6 class="fw-bold mb-1">@fb.Customer?.FullName ?? "Khách hàng"</h6>
            <div class="star-display">
                @for (int i = 1; i <= 5; i++)
                {
                    <span class="fa-star @(i <= fb.RatePoint ? "fas" : "far")"></span>
                }
            </div>
            <p>@fb.Content</p>

            @* <!-- Hiển thị reply -->
            @if (fb.Reply_Feedbacks != null && fb.Reply_Feedbacks.Any())
            {
                foreach (var rep in fb.Reply_Feedbacks)
                {
                    <div class="reply-box">
                        <strong>@(rep.Staff?.FullName ?? "Nhân viên"):</strong> @rep.Content_Reply
                    </div>
                }
            } *@
        </div>
    }
}
